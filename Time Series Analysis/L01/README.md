# **时间序列分析 第一课 笔记**

## **1. 时间序列 (Time Series) 的定义**

- **定义**：
   时间序列是一组按照时间顺序记录的观测值集合。 例如：工厂每月的货物运输量、每周的交通事故数量等。
- 特点：
  - 邻近的观测值往往具有依赖性。
  - 分为**离散时间序列**（观测在离散的时间点上，如每天、每周）和**连续时间序列**（观测在连续时间段上，如秒级记录）。

------

## **2. 时间序列的组成部分**

- **趋势 (Trend)**：
   表示时间序列随时间的长期上升或下降趋势。
  - 例：人口增长导致市场需求上升。
- **周期 (Cycle)**：
   表示时间序列中周期性的波动，通常持续两年以上。
  - 例：经济周期。
- **季节性 (Seasonality)**：
   指一年内重复出现的模式，例如每年的某个月份销售高峰。
  - 原因：天气、习俗等。
- **不规则波动 (Irregular Fluctuations)**：
   不可预测的波动，通常由突发事件引起（如地震、战争等）。

> **插图建议**：展示趋势、周期、季节性和不规则波动在图形中的分解示意图。

------

## **3. 时间序列分析的目标**

- **目标**：
  1. 理解时间序列数据的特性。
  2. 建立时间序列模型，描述其生成机制。
  3. 预测未来的值（Forecasting）。
- **预测方法**：
  1. **定性预测 (Qualitative Forecasting)**：基于专家经验的主观预测。
  2. **定量预测 (Quantitative Forecasting)**：基于历史数据的统计方法。

------

## **4. 时间序列模型**

- **加法模型**：

  Xt=Tt+Ct+St+RtX_t = T_t + C_t + S_t + R_t

  - TtT_t: 趋势
  - CtC_t: 周期
  - StS_t: 季节性
  - RtR_t: 不规则波动

- **乘法模型**：

  Xt=Tt×Ct×St×RtX_t = T_t \times C_t \times S_t \times R_t

> **插图建议**：展示加法模型和乘法模型的时间序列分解。

------

## **5. 平稳时间序列 (Stationary Time Series)**

- **定义**：
   时间序列如果没有明显的趋势、季节性，并且均值和方差在时间上保持不变，则为平稳时间序列。
- **重要性**：
   很多时间序列模型（如 ARIMA）都需要平稳性假设。
- **平稳化方法**：
  1. 对数变换 (Log Transformation)。
  2. 差分 (Differencing)： ∇Xt=Xt−Xt−1\nabla X_t = X_t - X_{t-1}

------

## **6. 差分操作与平稳化**

- 差分操作：
  - 一阶差分： ∇Xt=Xt−Xt−1\nabla X_t = X_t - X_{t-1}
  - 季节性差分： ∇LXt=Xt−Xt−L\nabla_L X_t = X_t - X_{t-L}

> **插图建议**：展示差分前后时间序列的变化。

------

## **7. 时间序列建模**

- **常用方法**：

  1. **趋势模型**：假设趋势为线性： Tt=β0+β1tT_t = \beta_0 + \beta_1 t
  2. **季节性模型**：使用哑变量表示季节性： St=βs,1D1,t+βs,2D2,t+⋯+βs,L−1DL−1,tS_t = \beta_{s,1} D_{1,t} + \beta_{s,2} D_{2,t} + \dots + \beta_{s,L-1} D_{L-1,t}

- **Box-Cox 变换**：
   用于平稳化和处理非线性季节性：

  Zt=Xtλ−1λ,λ>0Z_t = \frac{X_t^\lambda - 1}{\lambda}, \lambda > 0

  当 λ→0\lambda \to 0 时，转化为对数变换：

  Zt=log⁡(Xt)Z_t = \log(X_t)

------

## **8. 自相关和偏自相关**

- **自相关函数 (ACF)**： 用于测量时间序列中不同时间间隔（滞后）之间的相关性。

  ρ(h)=∑t=1n−h(Xt+h−Xˉ)(Xt−Xˉ)∑t=1n(Xt−Xˉ)2\rho(h) = \frac{\sum_{t=1}^{n-h}(X_{t+h} - \bar{X})(X_t - \bar{X})}{\sum_{t=1}^{n}(X_t - \bar{X})^2}

- **偏自相关函数 (PACF)**： 排除其他滞后效应后，测量特定滞后间隔的相关性。

> **插图建议**：绘制 ACF 和 PACF 的示意图（Correlogram）。

------

## **9. 预测的评价指标**

- **预测误差 (Forecast Error)**： et=yt−y^te_t = y_t - \hat{y}_t
- 常用误差度量：
  1. 平均绝对误差 (MAD): MAD=1n∑t=1n∣et∣\text{MAD} = \frac{1}{n} \sum_{t=1}^n |e_t|
  2. 均方误差 (MSE): MSE=1n∑t=1net2\text{MSE} = \frac{1}{n} \sum_{t=1}^n e_t^2

------

## **10. 实例分析**

- 航空乘客数据：
  - **时间序列模型**： yt=β0+β1t+βs,1D1,t+βs,2D2,t+⋯+ϵty_t = \beta_0 + \beta_1 t + \beta_{s,1} D_{1,t} + \beta_{s,2} D_{2,t} + \dots + \epsilon_t
  - 数据平稳化方法：对数变换 log⁡(Xt)\log(X_t)。

> **插图建议**：展示航空乘客数据的原始序列、平稳化后的序列及其模型拟合结果。

------

### **总结**

这节课介绍了时间序列的基本概念、组成部分、平稳化方法及建模技术，重点在于如何分解时间序列并使用数学模型来进行预测。下一步，可以深入学习如何用 ARIMA 等模型进行具体的建模和预测。

